
<div class="col-md-4 order-md-1 show-img">

  <span class='history-clip'>
    <%= render 'histories/history' %>
    <%= render 'clips/clip' %>
  </span>

  <div id="carouselImages" class="carousel slide" data-ride="carousel">
    <% if @spot.images.attached? %>
      <ol class="carousel-indicators">
        <% @spot.images.count.times do |i| %>
          <% if i == 0 %>
            <li data-target="#carouselImages" data-slide-to='#{i}' class="active"></li>
          <% else %>
            <li data-target="#carouselImages" data-slide-to='#{i}'></li>
          <% end %>
        <% end %>
      </ol>

      <div class="carousel-inner" role="listbox">

        <% @spot.images.each_with_index do |image, i| %>
          <% if i == 0 %>
            <div class="carousel-item active">
          <% else %>
            <div class="carousel-item">
          <% end %>
            <%= image_tag image, class: 'd-block w-100 rounded', alt: 'スポットの写真' %>
          </div>
        <% end %>
      </div>

      <a class="carousel-control-prev" href="#carouselImages" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselImages" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    <% else %>
      <%= image_tag 'default.png', class: 'd-block w-100 rounded' %>
    <% end %>
  </div>
</div>
